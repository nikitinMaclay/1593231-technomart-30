let openFormButton=document.querySelector(".contacts-button"),loginPopup=document.querySelector(".modal-write-us"),closeFormButton=loginPopup.querySelector(".modal-closing-button"),formForm=loginPopup.querySelector(".contact-form"),nameInput=loginPopup.querySelector(".name-input"),emailInput=loginPopup.querySelector(".email-input"),openMapButton=document.querySelector(".contacts-img"),mapPopup=document.querySelector(".modal-map"),closeMapButton=mapPopup.querySelector(".modal-closing-button"),isStorageSupport=!0,storage="",emailStorage="";try{storage=localStorage.getItem("name"),emailStorage=localStorage.getItem("email")}catch(o){isStorageSupport=!1}openFormButton.addEventListener("click",function(o){o.preventDefault(),loginPopup.classList.add("modal--show"),nameInput.focus(),storage?(nameInput.value=storage,emailInput.focus()):emailStorage&&(emailInput.value=emailStorage,nameInput.focus())}),closeFormButton.addEventListener("click",function(o){o.preventDefault(),loginPopup.classList.remove("modal--show")}),formForm.addEventListener("submit",function(o){nameInput.value&&emailInput.value?isStorageSupport&&(localStorage.setItem("name",nameInput.value),localStorage.setItem("email",emailInput.value)):(o.preventDefault(),loginPopup.classList.remove("modal-error"),loginPopup.offsetWidth=loginPopup.offsetWidth,loginPopup.classList.add("modal-error"))}),openMapButton.addEventListener("click",function(o){o.preventDefault(),mapPopup.classList.add("modal--show")}),closeMapButton.addEventListener("click",function(o){o.preventDefault(),mapPopup.classList.remove("modal--show"),loginPopup.classList.remove("modal-error")}),window.addEventListener("keydown",function(o){27===o.keyCode&&loginPopup.classList.contains("modal--show")&&(o.preventDefault(),loginPopup.classList.remove("modal--show"),loginPopup.classList.remove("modal-error"))});let goodMessagePopup=document.querySelector(".modal-good-message"),goodsList=document.querySelector(".popular-goods-list"),goodCloseButton=goodMessagePopup.querySelector(".modal-closing-button"),goodContinueButton=goodMessagePopup.querySelector(".good-continue-button"),cart=document.querySelector(".cart");goodsList.onclick=function(o){var e=o.target.closest(".buying-button");o.preventDefault(),e&&goodsList.contains(e)&&(goodMessagePopup.classList.add("modal--show"),cart.classList.add("buying-active"))},goodCloseButton.onclick=function(o){o.preventDefault(),goodMessagePopup.classList.remove("modal--show")},goodContinueButton.onclick=function(o){o.preventDefault(),goodMessagePopup.classList.remove("modal--show")};
